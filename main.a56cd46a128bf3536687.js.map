{"version":3,"sources":["webpack:///./js/services/apiService.js","webpack:///./js/images.js","webpack:///./handlebars/image-item.hbs"],"names":["axios","require","apiService","page","query","fetchImages","_this","this","requestParams","get","then","response","incrementPage","data","hits","searchQuery","string","resetPage","PNotify","_debounce","defaults","styling","icons","animateSpeed","delay","searchForm","document","querySelector","gallery","input","button","style","visibility","images","itemMarkup","imageItem","insertAdjacentHTML","insertItems","catch","error","console","warn","scrollToBottom","scrollOptions","top","scrollHeight","behavior","window","scrollTo","addEventListener","e","preventDefault","target","innerHTML","value","setTimeout","onload","log","Handlebars","__webpack_require__","module","exports","template","1","container","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","webformatURL","call","name","hash","loc","start","line","column","end","likes","views","comments","downloads","compiler","main","stack1","each","fn","program","inverse","noop","useData"],"mappings":"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","file":"main.a56cd46a128bf3536687.js","sourcesContent":["const axios = require('axios');\r\n\r\nconst baseUrl = 'https://pixabay.com/api/';\r\n\r\nexport default {\r\n  page: 1,\r\n  query: '',\r\n  fetchImages() {\r\n    const requestParams = `?image_type=photo&orientation=horizontal&q=${this.query}&page=${this.page}&per_page=12&key=14390846-904ad623fe4da4860ab777265`;\r\n\r\n    return axios.get(baseUrl + requestParams)\r\n      .then(response => {\r\n        this.incrementPage();\r\n\r\n        return response.data.hits;\r\n      });\r\n  },\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n  set searchQuery(string) {\r\n    this.query = string;\r\n  },\r\n  incrementPage() {\r\n    this.page += 1;\r\n  },\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n","import apiService from './services/apiService';\r\nimport imageItem from '../handlebars/image-item.hbs';\r\n\r\nconst InfiniteScroll = require('infinite-scroll');\r\nconst PNotify = require('pnotify/dist/umd/PNotify');\r\nconst PNotifyStyleMaterial = require('pnotify/dist/umd/PNotifyStyleMaterial.js');\r\nconst _debounce = require('lodash.debounce');\r\n\r\nPNotify.defaults.styling = 'material';\r\nPNotify.defaults.icons = 'material';\r\nPNotify.defaults.animateSpeed = 'fast';\r\nPNotify.defaults.delay = 4000;\r\n\r\nconst searchForm = document.querySelector('#search-form');\r\nconst gallery = document.querySelector('.gallery');\r\nconst input = searchForm.querySelector('input[type=\"text\"]');\r\nconst button = document.querySelector('#load-more');\r\n\r\ninput.addEventListener('input', _debounce(handleInputEvent, 500));\r\nbutton.addEventListener('click', handleButtonClick);\r\ngallery.onload = function () {\r\n  scrollToBottom();\r\n  console.log('LOADED');\r\n};\r\n\r\nfunction handleInputEvent(e) {\r\n  e.preventDefault();\r\n\r\n  const input = e.target;\r\n\r\n  clearImageList();\r\n\r\n  apiService.resetPage();\r\n  apiService.searchQuery = input.value;\r\n\r\n  fetchImages();\r\n}\r\n\r\nfunction fetchImages() {\r\n  button.style.visibility = 'visible';\r\n  apiService\r\n    .fetchImages()\r\n    .then(images => {\r\n      insertItems(images);\r\n    })\r\n    .catch(error => {\r\n      console.warn(error);\r\n    });\r\n}\r\n\r\nfunction handleButtonClick(e) {\r\n  e.preventDefault();\r\n\r\n  fetchImages();\r\n\r\n  setTimeout(scrollToBottom, 800);\r\n}\r\n\r\nfunction scrollToBottom() {\r\n  const scrollOptions = {\r\n    top: gallery.scrollHeight + 150,\r\n    behavior: 'smooth',\r\n  };\r\n\r\n  window.scrollTo(scrollOptions);\r\n}\r\n\r\nfunction insertItems(images) {\r\n  const itemMarkup = imageItem(images);\r\n  gallery.insertAdjacentHTML('beforeend', itemMarkup);\r\n}\r\n\r\nfunction clearImageList() {\r\n  button.style.visibility = 'hidden';\r\n  gallery.innerHTML = '';\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li>\\r\\n  <div class=\\\"photo-card\\\">\\r\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":14},\"end\":{\"line\":4,\"column\":30}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" />\\r\\n\\r\\n    <div class=\\\"stats\\\">\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n        \"\n    + alias4(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":8},\"end\":{\"line\":9,\"column\":17}}}) : helper)))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">visibility</i>\\r\\n        \"\n    + alias4(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":8},\"end\":{\"line\":13,\"column\":17}}}) : helper)))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">comment</i>\\r\\n        \"\n    + alias4(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":8},\"end\":{\"line\":17,\"column\":20}}}) : helper)))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n        \"\n    + alias4(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":8},\"end\":{\"line\":21,\"column\":21}}}) : helper)))\n    + \"\\r\\n      </p>\\r\\n    </div>\\r\\n  </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}